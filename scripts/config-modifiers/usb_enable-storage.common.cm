#!/bin/sh

scripts/setconfig.py -f - <<EOF
CONFIG_SCSI=y
CONFIG_BLK_DEV_SD=y
CONFIG_SCSI_LOWLEVEL=y
CONFIG_SCSI_MULTI_LUN=y
CONFIG_SCSI_PROC_FS=y
CONFIG_USB_STORAGE=y
EOF

scripts/setconfig.py -f - <<EOF
CONFIG_SNSC_SET_THREAD_PRIORITY=y
CONFIG_SNSC_BLOCK_K3D_SCHED_OPTION=y
CONFIG_SNSC_BLOCK_K3D_SCHED_POLICY=2
CONFIG_SNSC_BLOCK_K3D_SCHED_PRIORITY=98
CONFIG_SNSC_SCSI_ERROR_NOT_RETRY_CMD_MEDIUM_CHANGED=y
CONFIG_SNSC_SCSI_ERROR_SENSE_TIMEOUT=10
CONFIG_SNSC_SCSI_ERROR_SENSE_TIMEOUT_OPTION=y
CONFIG_SNSC_SCSI_MESSAGE_SILENT=y
CONFIG_SNSC_SCSI_PARAM_SD_TIMEOUT=y
CONFIG_SNSC_SCSI_PROC_DEVICE_NAME=y
CONFIG_SNSC_SCSI_REUSE_HOST_NO=y
CONFIG_SNSC_SCSI_SD_MEDIA_STATUS_CHECK_AT_ONCE=n
CONFIG_SNSC_SCSI_SD_NEED_REVALIDATE=y
CONFIG_SNSC_SCSI_SD_REUSE_INDEX=y
CONFIG_SNSC_SCSI_SD_RW10_DEFAULT=y
CONFIG_SNSC_USB_STORAGE_ADDITIONAL_PROC_INFO=y
CONFIG_SNSC_USB_STORAGE_ADDITIONAL_UNUSUAL_DEVS=y
CONFIG_SNSC_USB_STORAGE_SCHED_OPTION=y
CONFIG_SNSC_USB_STORAGE_SCHED_POLICY=2
CONFIG_SNSC_USB_STORAGE_SCHED_PRIORITY=98
CONFIG_SNSC_USB_STORAGE_TIMEOUT_BULK_MSG_OPTION=n
CONFIG_SNSC_USB_STORAGE_TIMEOUT_CTRL_MSG_OPTION=n
CONFIG_SNSC_USB_STORAGE_TIMEOUT_INTR_MSG_OPTION=n
CONFIG_SNSC_USB_STORAGE_TIMEOUT_USB_MSG_OPTION=y
CONFIG_SNSC_USB_STORAGE_TRANSPORT_RESET_FIRST=y
CONFIG_SNSC_USB_STORAGE_USE_GFP_NOWAIT_OR_ATOMIC=n
CONFIG_SNSC_USB_STOR_PARAM_DID_ABORT_RETRY_MAX=y
CONFIG_SNSC_USB_STOR_QUICK_TRANSPORT_RESET=y
CONFIG_SNSC_USB_STOR_WAIT_MEDIUM_READY_TIMES=300
EOF

scripts/setconfig.py -f - <<EOF
CONFIG_BLK_DEV_SR=n
CONFIG_CHR_DEV_OSST=n
CONFIG_CHR_DEV_SCH=n
CONFIG_CHR_DEV_SG=n
CONFIG_CHR_DEV_ST=n
CONFIG_ISCSI_TCP=n
CONFIG_SCSI_CONSTANTS=n
CONFIG_SCSI_DEBUG=n
CONFIG_SCSI_FC_ATTRS=n
CONFIG_SCSI_ISCSI_ATTRS=n
CONFIG_SCSI_LOGGING=n
CONFIG_SCSI_SAS_LIBSAS=n
CONFIG_SCSI_SCAN_ASYNC=n
CONFIG_SCSI_SPI_ATTRS=n
CONFIG_SCSI_TGT=n
CONFIG_SCSI_WAIT_SCAN=m
CONFIG_USB_MICROTEK=n
CONFIG_USB_STORAGE_ALAUDA=n
CONFIG_USB_STORAGE_DATAFAB=n
CONFIG_USB_STORAGE_DEBUG=n
CONFIG_USB_STORAGE_DPCM=n
CONFIG_USB_STORAGE_FREECOM=n
CONFIG_USB_STORAGE_JUMPSHOT=n
CONFIG_USB_STORAGE_KARMA=n
CONFIG_USB_STORAGE_ONETOUCH=n
CONFIG_USB_STORAGE_SDDR09=n
CONFIG_USB_STORAGE_SDDR55=n
CONFIG_USB_STORAGE_USBAT=n
EOF